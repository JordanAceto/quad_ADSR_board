# Quad digital ADSR module

# *** Work in progress ***

![](./hardware/main_pcb/pics/pcb_front.png?raw=true "pcb front")  ![](./hardware/main_pcb/pics/pcb_rear.png?raw=true "pcb rear")


## ADSRs are generated by an STM32 microcontroller and controlled by four encoders. A seven-segment display shows the most recently modified parameter. 

One ADSR at a time is set as the "active" ADSR, which will be controlled by the encoders. 

To select an ADSR as "active", the encoder push-button above a given ADSR is pressed.

The four-digit seven-segment display shows the parameter of the encoder that was most recently turned. For instance, if you just turned the decay time to 500 milliseconds, the display will show `0.500`. If you then adjust the sustain level to 68%, the display will now show `  68`. Time based parameters are shown in units of seconds, and sustain parameters are shown as 0% to 100%.

Additionally, the ADSRs can all be forced to lock to a "master" ADSR, so that that their attack, decay, sustain, and release parameters are all set the same. The four ADSRs can still be triggered independently in this mode, which makes this useful for polyphonic patches. This saves you from manually setting identical paramters four times. Lock-to-master mode is selected by performing a long push-switch press of the encoder above the desired ADSR. For instance, to force all the ADSRs to lock to the ADSR 3 settings, depress and hold the sustain encoder push-button for a few seconds. To leave lock-to-master mode, do a short click of any of the encoder push-buttons to select a new active ADSR.

A bank of four bi-color LEDs shows the active ADSR, and whether it is in independent, or lock-to-master mode.

More to come.
